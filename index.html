<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI 여자친구 챗봇</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- 초기 설정 화면 -->
    <div id="setup-screen" class="screen active">
        <div class="setup-container">
            <h1>AI 여자친구 챗봇</h1>
            <p class="subtitle">당신만의 AI와 대화를 시작하세요</p>
            
            <div class="setup-form">
                <div class="input-group">
                    <label for="api-key">Gemini API 키 *</label>
                    <input type="password" id="api-key" placeholder="AIzaSy..." required>
                    <small>⚠️ API 키는 브라우저에만 저장되며, 절대 서버로 전송되지 않습니다.</small>
                </div>

                <div class="input-group">
                    <label for="ai-name">AI 이름 *</label>
                    <input type="text" id="ai-name" placeholder="예: 지수" required>
                </div>

                <div class="input-group">
                    <label for="user-name">내 이름 *</label>
                    <input type="text" id="user-name" placeholder="예: 민수" required>
                </div>

                <div class="input-group">
                    <label for="persona">AI 페르소나 (성격 설정) *</label>
                    <textarea id="persona" rows="6" placeholder="예: 너는 밝고 긍정적인 성격의 여자친구야. 항상 따뜻하게 대화하고, 내 이야기를 공감하며 들어줘. 가끔 귀여운 이모티콘도 사용해줘. 애교도 부리고, 나를 '오빠'라고 불러줘." required></textarea>
                </div>

                <button id="start-chat" class="btn-primary">채팅 시작하기</button>
            </div>
        </div>
    </div>

    <!-- 채팅 화면 -->
    <div id="chat-screen" class="screen">
        <div class="chat-container">
            <!-- 헤더 -->
            <div class="chat-header">
                <div class="profile-section" id="profile-btn">
                    <div class="profile-image">
                        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <circle cx="12" cy="8" r="4" stroke="currentColor" stroke-width="2"/>
                            <path d="M4 20C4 16.6863 6.68629 14 10 14H14C17.3137 14 20 16.6863 20 20" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                    </div>
                    <div class="profile-info">
                        <h2 id="ai-name-display">AI</h2>
                        <span class="status">온라인</span>
                    </div>
                </div>
            </div>

            <!-- 메시지 영역 -->
            <div id="messages" class="messages-container"></div>

            <!-- 입력 영역 -->
            <div class="input-container">
                <textarea id="message-input" placeholder="메시지를 입력하세요..." rows="1"></textarea>
                <button id="send-btn" class="send-btn">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                        <path d="M22 2L11 13" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        <path d="M22 2L15 22L11 13L2 9L22 2Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </button>
            </div>
        </div>
    </div>

    <!-- 페르소나 편집 모달 -->
    <div id="persona-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>페르소나 편집</h2>
                <button class="close-btn" id="close-modal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="input-group">
                    <label for="edit-ai-name">AI 이름</label>
                    <input type="text" id="edit-ai-name">
                </div>
                <div class="input-group">
                    <label for="edit-persona">페르소나</label>
                    <textarea id="edit-persona" rows="8"></textarea>
                </div>
            </div>
            <div class="modal-footer">
                <button id="cancel-edit" class="btn-secondary">취소</button>
                <button id="save-persona" class="btn-primary">저장</button>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
